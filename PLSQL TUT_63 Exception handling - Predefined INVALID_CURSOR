-- Exception handling - Predefined INVALID_CURSOR 

SET SERVEROUTPUT ON;

DECLARE
    CURSOR CUR_EMP IS
    SELECT * FROM EMPLOYEE;
    
    V_EMP EMPLOYEE%ROWTYPE;
BEGIN
    LOOP
        FETCH CUR_EMP INTO V_EMP;
        EXIT WHEN CUR_EMP%NOTFOUND;
        DBMS_OUTPUT.PUT_LINE(V_EMP.FIRST_NAME || ' ' || V_EMP.LAST_NAME);
    END LOOP;
    CLOSE CUR_EMP;
EXCEPTION
    WHEN INVALID_CURSOR THEN
        DBMS_OUTPUT.PUT_LINE('FIRST, OPEN THE CUSROR.');
END;
/
